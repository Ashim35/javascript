<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Promise</title>
</head>
<body>
    <div> ... </div>
    <script>
        let news=[
            {newsTitle:'First Title',newsContent:'hello world'},
            {newsTitle:'Second Title',newsContent:'javascript'}
        ]

        //define the function
        function showNews()
        {
            setTimeout(()=>{
                let result=''
                news.forEach((post)=>{
                    result+=`<li>${post.newsTitle}</li>`
                })
                document.querySelector('div').innerHTML=result
            },2000)
        }

        //call the function showNews()
        // showNews()

        // function addNews(newsdata)
        // {
        //     setTimeout(()=>{
        //         news.push(newsdata)
        //     },3000)
        // }


        //call the function addNews()
      //  addNews({newsTitle:'third title',newsContent:'this is added from push method'})

      function addNews(newsdata,callback){
      setTimeout(()=>
      {
          news.push(newsdata)
          //call the callback after adding news
        callback()
        },3000)
    }
            function addNews(newsdata)
            {
                return new Promise((resolve,reject)=>
                {
                    setTimeout(()=>
                    
                    {
                            news.push(newsdata)
                            
                            const error=false
                            if(!error)
                            {
                                resolve()
                            }
                            else{
                                reject('error:something went wrong')
                            }

                    },3000)
                })
            }

            //call the function addNews() with callback function
            addNews({newsTitle:'Third Title',newsContent:'this is added from push method'})
            
            .then(showNews)
            .catch(err=>console.log(error))

    </script>
</body>
</html>